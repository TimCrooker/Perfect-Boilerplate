"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FSHelper = void 0;

var _fs = require("fs");

var _util = require("util");

const FSHelper = {
  PathExists: async path => {
    try {
      await (0, _util.promisify)(_fs.access)(path);
      return true;
    } catch (e) {
      return false;
    }
  },
  ReadDir: async path => {
    try {
      return await (0, _util.promisify)(_fs.readdir)(path);
    } catch (e) {
      return [];
    }
  },
  ValidPluginPack: async path => {
    // check that path exists
    const validPath = await FSHelper.PathExists(path);
    if (!validPath) return false; // check for plugin.js file

    const hasPluginFile = await FSHelper.PathExists(path + '/prompt.js');
    if (!hasPluginFile) return false; // check for template dir

    const hasTemplateDir = await FSHelper.PathExists(path + '/template');
    if (!hasTemplateDir) return false; // check for plugins dir

    const hasPluginsDir = await FSHelper.PathExists(path + '/plugins');
    if (!hasPluginsDir) return false;
    return true;
  }
};
exports.FSHelper = FSHelper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9VdGlscy9maWxlcy9pbmRleC50cyJdLCJuYW1lcyI6WyJGU0hlbHBlciIsIlBhdGhFeGlzdHMiLCJwYXRoIiwiYWNjZXNzIiwiZSIsIlJlYWREaXIiLCJyZWFkZGlyIiwiVmFsaWRQbHVnaW5QYWNrIiwidmFsaWRQYXRoIiwiaGFzUGx1Z2luRmlsZSIsImhhc1RlbXBsYXRlRGlyIiwiaGFzUGx1Z2luc0RpciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUVPLE1BQU1BLFFBQVEsR0FBRztBQUN0QkMsRUFBQUEsVUFBVSxFQUFFLE1BQU9DLElBQVAsSUFBMEM7QUFDcEQsUUFBSTtBQUNGLFlBQU0scUJBQVVDLFVBQVYsRUFBa0JELElBQWxCLENBQU47QUFDQSxhQUFPLElBQVA7QUFDRCxLQUhELENBR0UsT0FBT0UsQ0FBUCxFQUFVO0FBQ1YsYUFBTyxLQUFQO0FBQ0Q7QUFDRixHQVJxQjtBQVV0QkMsRUFBQUEsT0FBTyxFQUFFLE1BQU9ILElBQVAsSUFBMkM7QUFDbEQsUUFBSTtBQUNGLGFBQU8sTUFBTSxxQkFBVUksV0FBVixFQUFtQkosSUFBbkIsQ0FBYjtBQUNELEtBRkQsQ0FFRSxPQUFPRSxDQUFQLEVBQVU7QUFDVixhQUFPLEVBQVA7QUFDRDtBQUNGLEdBaEJxQjtBQWtCdEJHLEVBQUFBLGVBQWUsRUFBRSxNQUFPTCxJQUFQLElBQTBDO0FBQ3pEO0FBQ0EsVUFBTU0sU0FBUyxHQUFHLE1BQU1SLFFBQVEsQ0FBQ0MsVUFBVCxDQUFvQkMsSUFBcEIsQ0FBeEI7QUFDQSxRQUFJLENBQUNNLFNBQUwsRUFBZ0IsT0FBTyxLQUFQLENBSHlDLENBS3pEOztBQUNBLFVBQU1DLGFBQWEsR0FBRyxNQUFNVCxRQUFRLENBQUNDLFVBQVQsQ0FBb0JDLElBQUksR0FBRyxZQUEzQixDQUE1QjtBQUNBLFFBQUksQ0FBQ08sYUFBTCxFQUFvQixPQUFPLEtBQVAsQ0FQcUMsQ0FTekQ7O0FBQ0EsVUFBTUMsY0FBYyxHQUFHLE1BQU1WLFFBQVEsQ0FBQ0MsVUFBVCxDQUFvQkMsSUFBSSxHQUFHLFdBQTNCLENBQTdCO0FBQ0EsUUFBSSxDQUFDUSxjQUFMLEVBQXFCLE9BQU8sS0FBUCxDQVhvQyxDQWF6RDs7QUFDQSxVQUFNQyxhQUFhLEdBQUcsTUFBTVgsUUFBUSxDQUFDQyxVQUFULENBQW9CQyxJQUFJLEdBQUcsVUFBM0IsQ0FBNUI7QUFDQSxRQUFJLENBQUNTLGFBQUwsRUFBb0IsT0FBTyxLQUFQO0FBRXBCLFdBQU8sSUFBUDtBQUNEO0FBcENxQixDQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjY2VzcywgcmVhZGRpciB9IGZyb20gJ2ZzJ1xyXG5pbXBvcnQgeyBwcm9taXNpZnkgfSBmcm9tICd1dGlsJ1xyXG5cclxuZXhwb3J0IGNvbnN0IEZTSGVscGVyID0ge1xyXG4gIFBhdGhFeGlzdHM6IGFzeW5jIChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHByb21pc2lmeShhY2Nlc3MpKHBhdGgpXHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIFJlYWREaXI6IGFzeW5jIChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgcHJvbWlzaWZ5KHJlYWRkaXIpKHBhdGgpXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIFZhbGlkUGx1Z2luUGFjazogYXN5bmMgKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xyXG4gICAgLy8gY2hlY2sgdGhhdCBwYXRoIGV4aXN0c1xyXG4gICAgY29uc3QgdmFsaWRQYXRoID0gYXdhaXQgRlNIZWxwZXIuUGF0aEV4aXN0cyhwYXRoKVxyXG4gICAgaWYgKCF2YWxpZFBhdGgpIHJldHVybiBmYWxzZVxyXG5cclxuICAgIC8vIGNoZWNrIGZvciBwbHVnaW4uanMgZmlsZVxyXG4gICAgY29uc3QgaGFzUGx1Z2luRmlsZSA9IGF3YWl0IEZTSGVscGVyLlBhdGhFeGlzdHMocGF0aCArICcvcHJvbXB0LmpzJylcclxuICAgIGlmICghaGFzUGx1Z2luRmlsZSkgcmV0dXJuIGZhbHNlXHJcblxyXG4gICAgLy8gY2hlY2sgZm9yIHRlbXBsYXRlIGRpclxyXG4gICAgY29uc3QgaGFzVGVtcGxhdGVEaXIgPSBhd2FpdCBGU0hlbHBlci5QYXRoRXhpc3RzKHBhdGggKyAnL3RlbXBsYXRlJylcclxuICAgIGlmICghaGFzVGVtcGxhdGVEaXIpIHJldHVybiBmYWxzZVxyXG5cclxuICAgIC8vIGNoZWNrIGZvciBwbHVnaW5zIGRpclxyXG4gICAgY29uc3QgaGFzUGx1Z2luc0RpciA9IGF3YWl0IEZTSGVscGVyLlBhdGhFeGlzdHMocGF0aCArICcvcGx1Z2lucycpXHJcbiAgICBpZiAoIWhhc1BsdWdpbnNEaXIpIHJldHVybiBmYWxzZVxyXG5cclxuICAgIHJldHVybiB0cnVlXHJcbiAgfSxcclxufVxyXG4iXX0=